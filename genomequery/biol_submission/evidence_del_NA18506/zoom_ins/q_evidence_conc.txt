include<tables.txt>
genome NA18506;

C1=select * from READS
where location>=0 and mate_loc>=0 and
(
	(mate_loc+100-location>250 and mate_loc+100-location<400) 
or 
	(location+100-mate_loc>250 and location+100-mate_loc<400)
)

out=select * from MAPJOIN spot_check using intervals(begin, end), C1 using intervals(location, mate_loc, both_mates)

print out
